name: Setup Merobox
description: "Install merobox from APT repository (Linux only)"

runs:
  using: "composite"
  steps:
    - name: Install merobox from APT
      shell: bash
      run: |
        curl -fsSL https://calimero-network.github.io/merobox/gpg.key | sudo tee /usr/share/keyrings/merobox.gpg > /dev/null
        echo "deb [signed-by=/usr/share/keyrings/merobox.gpg] https://calimero-network.github.io/merobox stable main" | sudo tee /etc/apt/sources.list.d/merobox.list
        sudo apt update
        sudo apt install -y merobox

    - name: Verify merobox installation
      shell: bash
      run: merobox --version
